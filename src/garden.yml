kind: Module
name: backend
description: Backend service
type: container
dockerfile: Dockerfile-backend
include:
  - Dockerfile-backend
  - package.json
  - setup-npm-env.sh
  - src/backend/
  - src/shared/
services:
  - name: backend
    ports:
      - name: api
        containerPort: 3000
    healthCheck:
      httpGet:
        path: /
        port: api

---

kind: Module
name: frontend
description: Frontend web service
type: container
dockerfile: Dockerfile-frontend
include:
  - Dockerfile-frontend
  - package.json
  - setup-npm-env.sh
  - src/frontend/
  - src/shared/
services:
  - name: frontend
    ports:
      - name: http
        containerPort: 5000
    healthCheck:
      httpGet:
        path: /
        port: http
    ingresses:
      - path: /
        port: http
    dependencies:
      - backend